{
  "tools": [
    {
      "tool": "argocd_list_applications",
      "arguments": {
        "project": "default",
        "namespace": "argocd"
      }
    },
    {
      "tool": "argocd_create_application",
      "arguments": {
        "name": "my-app",
        "project": "default",
        "source": {
          "repoURL": "https://github.com/org/repo.git",
          "path": "manifests",
          "targetRevision": "main"
        },
        "destination": {
          "server": "https://kubernetes.default.svc",
          "namespace": "production"
        },
        "syncPolicy": {
          "automated": {
            "prune": true,
            "selfHeal": true
          }
        }
      }
    },
    {
      "tool": "argocd_sync_application",
      "arguments": {
        "name": "my-app",
        "prune": true,
        "force": false,
        "strategy": {
          "hook": {
            "force": true
          }
        }
      }
    },
    {
      "tool": "argocd_get_application_status",
      "arguments": {
        "name": "my-app",
        "refresh": true
      }
    },
    {
      "tool": "argocd_rollback_application",
      "arguments": {
        "name": "my-app",
        "revision": "abc123"
      }
    },
    {
      "tool": "argocd_create_project",
      "arguments": {
        "name": "production",
        "description": "Production applications",
        "sourceRepos": [
          "https://github.com/org/*"
        ],
        "destinations": [
          {
            "server": "https://kubernetes.default.svc",
            "namespace": "prod-*"
          }
        ],
        "clusterResourceWhitelist": [
          {
            "group": "*",
            "kind": "*"
          }
        ]
      }
    },
    {
      "tool": "argocd_add_repository",
      "arguments": {
        "url": "https://github.com/org/repo.git",
        "name": "my-repo",
        "type": "git",
        "username": "git-user",
        "password": "git-token",
        "insecure": false
      }
    },
    {
      "tool": "argocd_add_helm_repository",
      "arguments": {
        "url": "https://charts.example.com",
        "name": "my-charts",
        "type": "helm",
        "username": "helm-user",
        "password": "helm-password"
      }
    },
    {
      "tool": "argocd_add_cluster",
      "arguments": {
        "name": "production-cluster",
        "server": "https://k8s-prod.example.com",
        "config": {
          "bearerToken": "cluster-token",
          "tlsClientConfig": {
            "insecure": false,
            "caData": "base64-encoded-ca"
          }
        }
      }
    },
    {
      "tool": "argocd_create_applicationset",
      "arguments": {
        "name": "multi-cluster-app",
        "generators": [
          {
            "clusters": {},
            "selector": {
              "matchLabels": {
                "environment": "production"
              }
            }
          }
        ],
        "template": {
          "metadata": {
            "name": "{{cluster}}-app"
          },
          "spec": {
            "project": "default",
            "source": {
              "repoURL": "https://github.com/org/repo.git",
              "path": "{{cluster}}"
            },
            "destination": {
              "server": "{{server}}",
              "namespace": "default"
            }
          }
        }
      }
    },
    {
      "tool": "argocd_get_application_health",
      "arguments": {
        "name": "my-app"
      }
    },
    {
      "tool": "argocd_get_resource_tree",
      "arguments": {
        "name": "my-app"
      }
    }
  ]
}
